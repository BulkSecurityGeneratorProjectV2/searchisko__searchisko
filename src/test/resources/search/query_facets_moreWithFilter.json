{
    "facets":{
        "per_project_counts":{
            "terms":{
                "field":"dcp_project",
                "size":500
            },
            "facet_filter":{
                "and":{
                    "filters":[
                        {
                            "terms":{
                                "dcp_type":[
                                    "my_dcp_type",
                                    "my_dcp_type_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_content_provider":[
                                    "my_dcp_content_provider"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_tags":[
                                    "tag1",
                                    "tag2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_contributors":[
                                    "my_contributor_1",
                                    "my_contributor_2"
                                ]
                            }
                        },
                        {
                            "range":{
                                "dcp_activity_dates":{
                                    "from":"1970-01-01T00:01:40.000Z",
                                    "to":"1970-01-01T00:01:40.200Z",
                                    "include_lower":true,
                                    "include_upper":true
                                }
                            }
                        }
                    ]
                }
            },
            "global":true
        },
        "per_dcp_type_counts":{
            "terms":{
                "field":"dcp_type",
                "size":20
            },
            "facet_filter":{
                "and":{
                    "filters":[
                        {
                            "terms":{
                                "dcp_content_provider":[
                                    "my_dcp_content_provider"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_tags":[
                                    "tag1",
                                    "tag2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_project":[
                                    "my_project",
                                    "my_project_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_contributors":[
                                    "my_contributor_1",
                                    "my_contributor_2"
                                ]
                            }
                        },
                        {
                            "range":{
                                "dcp_activity_dates":{
                                    "from":"1970-01-01T00:01:40.000Z",
                                    "to":"1970-01-01T00:01:40.200Z",
                                    "include_lower":true,
                                    "include_upper":true
                                }
                            }
                        }
                    ]
                }
            },
            "global":true
        },
        "top_contributors":{
            "terms":{
                "field":"dcp_contributors",
                "size":100
            },
            "facet_filter":{
                "and":{
                    "filters":[
                        {
                            "terms":{
                                "dcp_type":[
                                    "my_dcp_type",
                                    "my_dcp_type_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_content_provider":[
                                    "my_dcp_content_provider"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_tags":[
                                    "tag1",
                                    "tag2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_project":[
                                    "my_project",
                                    "my_project_2"
                                ]
                            }
                        },
                        {
                            "range":{
                                "dcp_activity_dates":{
                                    "from":"1970-01-01T00:01:40.000Z",
                                    "to":"1970-01-01T00:01:40.200Z",
                                    "include_lower":true,
                                    "include_upper":true
                                }
                            }
                        }
                    ]
                }
            },
            "global":true
        },
        "top_contributors_filter":{
            "terms":{
                "field":"dcp_contributors",
                "size":30
            },
            "facet_filter":{
                "and":{
                    "filters":[
                        {
                            "terms":{
                                "dcp_type":[
                                    "my_dcp_type",
                                    "my_dcp_type_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_content_provider":[
                                    "my_dcp_content_provider"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_tags":[
                                    "tag1",
                                    "tag2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_project":[
                                    "my_project",
                                    "my_project_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_contributors":[
                                    "my_contributor_1",
                                    "my_contributor_2"
                                ]
                            }
                        },
                        {
                            "range":{
                                "dcp_activity_dates":{
                                    "from":"1970-01-01T00:01:40.000Z",
                                    "to":"1970-01-01T00:01:40.200Z",
                                    "include_lower":true,
                                    "include_upper":true
                                }
                            }
                        }
                    ]
                }
            },
            "global":true
        },
        "tag_cloud":{
            "terms":{
                "field":"dcp_tags",
                "size":50
            },
            "facet_filter":{
                "and":{
                    "filters":[
                        {
                            "terms":{
                                "dcp_type":[
                                    "my_dcp_type",
                                    "my_dcp_type_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_content_provider":[
                                    "my_dcp_content_provider"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_project":[
                                    "my_project",
                                    "my_project_2"
                                ]
                            }
                        },
                        {
                            "terms":{
                                "dcp_contributors":[
                                    "my_contributor_1",
                                    "my_contributor_2"
                                ]
                            }
                        },
                        {
                            "range":{
                                "dcp_activity_dates":{
                                    "from":"1970-01-01T00:01:40.000Z",
                                    "to":"1970-01-01T00:01:40.200Z",
                                    "include_lower":true,
                                    "include_upper":true
                                }
                            }
                        }
                    ]
                }
            },
            "global":true
        },
        "activity_dates_histogram":{
            "date_histogram":{
                "field":"dcp_activity_dates",
                "interval":"minute"
            }
        }
    }
}